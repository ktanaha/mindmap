# MindMap 操作ガイド

このドキュメントでは、MindMapアプリケーションの基本的な操作方法を説明します。

## 目次

1. [基本構成](#基本構成)
2. [Markdownエディタ（左ペイン）](#markdownエディタ左ペイン)
3. [マインドマップビュー（右ペイン）](#マインドマップビュー右ペイン)
4. [ファイル操作](#ファイル操作)
5. [ショートカットキー一覧](#ショートカットキー一覧)

---

## 基本構成

MindMapアプリケーションは2つのペインで構成されています：

- **左ペイン**: Markdownエディタ
- **右ペイン**: マインドマップビュー（リアルタイム表示）

左ペインでMarkdown形式のリストを入力すると、右ペインに自動的にマインドマップとして表示されます。

---

## Markdownエディタ（左ペイン）

### テキスト入力

マインドマップはMarkdownのリスト表記で作成します：

```markdown
- プロジェクト計画
  - フェーズ1：設計
    - 要件定義
    - UI設計
  - フェーズ2：実装
    - バックエンド開発
    - フロントエンド開発
```

### キーボード操作

#### インデント操作

| キー | 動作 |
|------|------|
| **Tab** | 行頭にスペース2つを挿入（階層を下げる） |
| **Shift + Tab** | 行頭のスペース2つを削除（階層を上げる） |

- カーソルがどの位置にあっても、行全体がインデント/アウトデントされます
- 複数行を選択して一括操作も可能です

#### リスト編集

| キー | 動作 |
|------|------|
| **Enter** | 自動的に次の行に `- ` を挿入（リスト継続） |
| **Enter**（空の項目で） | リストを終了 |

**例：**
```
- タスク1 [Enter]
- ← 自動挿入
  [Tab]
  - サブタスク [Enter]
  - ← 自動挿入（インデント維持）
  [Enter] ← 空の項目でEnter
← リスト終了
```

---

## マインドマップビュー（右ペイン）

### ノードのドラッグ&ドロップ

マインドマップ上でノードを別の親に付け替えることができます。

#### 操作方法

1. **ノードをクリック**
   - ノードが半透明になります
   - カーソルに追従する半透明のゴーストが表示されます

2. **ドラッグ中**
   - マウスを動かすと、ゴーストがカーソルに追従します
   - マウス下のノードがオレンジ色にハイライトされます（ドロップ先候補）
   - 自分自身や子孫ノードにはドロップできません

3. **ドロップ**
   - ハイライトされたノードの上でマウスを離すと、そのノードの子になります
   - Markdownエディタも自動的に更新されます

4. **キャンセル**
   - ドロップせずにマウスを離すと、元の状態に戻ります

### ビューの操作

#### 拡大縮小（ズーム）

| 操作 | 動作 |
|------|------|
| **マウスホイール上** | 拡大（ズームイン） |
| **マウスホイール下** | 縮小（ズームアウト） |

- マウスカーソル位置を中心に拡大縮小されます
- ズーム範囲: 10%（0.1倍）〜 300%（3.0倍）
- 1ノッチで約15%拡大縮小

**使い方：**
- 見たい部分にマウスカーソルを合わせてからホイールを回すと、その部分を中心に拡大できます

#### ビュー移動（パン）

| 操作 | 動作 |
|------|------|
| **中クリック + ドラッグ** | ビュー全体を移動 |
| **右クリック + ドラッグ** | ビュー全体を移動 |

- ドラッグ中はカーソルが「掴む手」のアイコンに変化します
- 大きなマインドマップを自由に移動できます

### マウス操作まとめ

| マウス操作 | 機能 |
|-----------|------|
| **左クリック + ドラッグ** | ノードのドラッグ&ドロップ |
| **中クリック + ドラッグ** | ビュー全体の移動（パン） |
| **右クリック + ドラッグ** | ビュー全体の移動（パン） |
| **マウスホイール上** | 拡大（ズームイン） |
| **マウスホイール下** | 縮小（ズームアウト） |

---

## ファイル操作

### メニューバー

すべてのファイル操作は、メニューバーの「ファイル」メニューから実行できます。

| メニュー項目 | ショートカット | 動作 |
|-------------|---------------|------|
| **新規** | Ctrl+N | 新しいマインドマップを作成 |
| **開く** | Ctrl+O | 既存のファイルを開く（Markdown形式） |
| **保存** | Ctrl+S | 現在のファイルに保存 |
| **名前を付けて保存** | Ctrl+Shift+S | 新しいファイル名で保存 |
| **終了** | Ctrl+Q | アプリケーションを終了 |

### ファイル形式

- マインドマップはMarkdown形式（.md）で保存されます
- ファイル拡張子: `.md`
- 純粋なMarkdownテキストファイルとして保存されるため、他のテキストエディタでも編集可能です

---

## ショートカットキー一覧

### エディタ

| ショートカット | 動作 |
|---------------|------|
| **Tab** | インデント追加（階層を下げる） |
| **Shift + Tab** | インデント削除（階層を上げる） |
| **Enter** | リスト項目を自動継続 |

### ファイル操作

| ショートカット | 動作 |
|---------------|------|
| **Ctrl + N** | 新規作成 |
| **Ctrl + O** | ファイルを開く |
| **Ctrl + S** | 保存 |
| **Ctrl + Shift + S** | 名前を付けて保存 |
| **Ctrl + Q** | 終了 |

---

## Tips & トリック

### 効率的なマインドマップ作成

1. **リスト形式で素早く入力**
   - Markdownのリスト表記で階層構造を素早く作成
   - Tab/Shift+Tabで階層を調整
   - Enterでリスト項目を連続追加

2. **ビジュアルで整理**
   - マインドマップビューでノードをドラッグ&ドロップ
   - ビジュアルで確認しながら構造を調整
   - Markdownエディタに自動反映

3. **ズームとパンの活用**
   - ズームアウトして全体を俯瞰
   - パンで見たい部分に移動
   - ズームインで詳細を確認

### 大きなマインドマップの閲覧

1. マウスホイールで縮小（全体を俯瞰）
2. 中クリック or 右クリックでドラッグ（見たい部分に移動）
3. マウスホイールで拡大（詳細を確認）

---

## トラブルシューティング

### ノードがドロップできない

- 自分自身や子孫ノードにはドロップできません
- 別のノード（オレンジ色にハイライトされるノード）を試してください

### ゴーストアイテムが残る

- ドラッグをキャンセルする場合は、マウスボタンを離すだけでOK
- 通常は自動的にクリーンアップされます

### マインドマップが表示されない

- Markdownエディタにリスト表記（`- ` または `* `）で入力してください
- 見出し表記（`#`）も使用できますが、リスト表記を推奨します

---

## さらに詳しく

より詳しい情報は以下のドキュメントを参照してください：

- [README.md](README.md) - プロジェクト概要とインストール方法
- [REQUIREMENTS.md](REQUIREMENTS.md) - 要件定義書

---

**バージョン**: 1.0
**最終更新**: 2025-12-31
